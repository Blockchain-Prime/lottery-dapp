import{r as te}from"./index-72c0ec7f.js";var H={},O={};Object.defineProperty(O,"__esModule",{value:!0});var me=te;function pe(t){if(t&&t.__esModule)return t;var r=Object.create(null);return t&&Object.keys(t).forEach(function(n){if(n!=="default"){var e=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,e.get?e:{enumerable:!0,get:function(){return t[n]}})}}),r.default=t,Object.freeze(r)}var c=pe(me);const A=.3,x="linear",V="normal",X="none",re="running",ye="paused",B="all";var ne=({duration:t=A,delay:r=0,overlay:n=0})=>t+r-n||0,U=t=>t===void 0;function M(t,r,n){return U(r)&&U(t)?n||0:t&&t>=0?t:r||0}const z=c.createContext({animationStates:{},register:()=>{}});function ve({play:t,sequences:r=[],children:n}){const[e,i]=c.useState({}),a=c.useRef({}),o=c.useCallback(s=>{const{sequenceIndex:u,sequenceId:m}=s;(!U(m)||!U(u))&&(a.current[M(u,m)]=s)},[]);return c.useEffect(()=>{const s=Array.isArray(r)&&r.length?r:Object.values(a.current),u={};(t?s:[...s].reverse()).reduce((m,{sequenceId:p,sequenceIndex:y,duration:v=A,delay:l,overlay:f},d)=>{const h=M(y,p,d),b=ne({duration:v,delay:l,overlay:f})+m;return u[h]={play:t,pause:!t,delay:(l||0)+m,controlled:!0},b},0),i(u)},[t]),c.createElement(z.Provider,{value:{animationStates:e,register:o}},n)}var ae=t=>(t||0)*1e3;function he(t){const{play:r,children:n,render:e,start:i,end:a,complete:o="",onComplete:s,delay:u=0,duration:m=A,easeType:p=x,sequenceId:y,sequenceIndex:v}=t,l=c.useRef(),[f,d]=c.useState(i||{}),{register:h,animationStates:N={}}=c.useContext(z),b=M(v,y);return c.useEffect(()=>{(!U(v)&&v>=0||y)&&h(t)},[]),c.useEffect(()=>{const g=N[b]||{};return d({...r||g.play?a:i,transition:`${B} ${m}s ${p} ${g.delay||u}s`}),r&&(o||s)&&(l.current=setTimeout(()=>{o&&d(o),s&&s()},ae((g.delay||u)+m))),()=>l.current&&clearTimeout(l.current)},[b,N,r,m,p,u,s,i,a,o]),e?e({style:f}):c.createElement("div",{style:f},n)}var ge=t=>t?t.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`):"";const be=t=>{const r=t.length;return t.reduce((n,e,i)=>{const a=parseFloat((100/(r-1)).toFixed(2))*i;if(typeof e=="string")return`${n} ${a}% {${e}}`;const o=Object.keys(e);if(o.length&&isNaN(+o[0])){const s=o.reduce((u,m)=>`${u} ${ge(m)}: ${e[m]};`,"");return`${n} ${a}% {${s}}`}return`${n} ${o[0]}% {${e[o[0]]}}`},"")};function Ne({keyframes:t,animationName:r}){return`@keyframes ${r} {${be(t)}}`}function j({keyframes:t,animationName:r}){var n,e,i,a;let o=document.querySelector("style[data-id=rsi]");o||(o=document.createElement("style"),o.setAttribute("data-id","rsi"),document.head.appendChild(o));const s=(i=(e=(n=o.sheet)===null||n===void 0?void 0:n.cssRules)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0;try{(a=o.sheet)===null||a===void 0||a.insertRule(Ne({keyframes:t,animationName:r}),s)}catch(u){console.error("react simple animate, error found during insert style ",u)}return{styleTag:o,index:s}}var P=(t,r)=>{if(!t)return;const n=Object.values(t.cssRules).findIndex(({name:e})=>e===r);n>=0&&t.deleteRule(n)},k=()=>`RSI-${Math.random().toString(36).substr(2,9)}`,oe=t=>t?ye:re;function $e(t){const{children:r,play:n=!1,pause:e=!1,render:i,duration:a=A,delay:o=0,easeType:s=x,direction:u=V,fillMode:m=X,iterationCount:p=1,sequenceIndex:y,keyframes:v,sequenceId:l}=t;let f;const d=c.useRef({forward:"",reverse:""}),h=c.useRef(!1),N=c.useRef({forward:null,reverse:null}),b=M(y,l),{register:g,animationStates:w={}}=c.useContext(z),$=w[b]||{},[,T]=c.useState(!1);c.useEffect(()=>{const C=N.current,R=d.current;d.current.forward=k();let S=j({animationName:d.current.forward,keyframes:v});return N.current.forward=S.styleTag,d.current.reverse=k(),S=j({animationName:d.current.reverse,keyframes:v.reverse()}),N.current.reverse=S.styleTag,g(t),n&&T(!0),()=>{var F,K;P((F=C.forward)===null||F===void 0?void 0:F.sheet,R.forward),P((K=C.reverse)===null||K===void 0?void 0:K.sheet,R.reverse)}},[]),$.controlled&&!h.current?(f=$.pause,$.pause||(h.current=!0)):f=e;const E={animation:`${a}s ${s} ${$.delay||o}s ${p} ${u} ${m} ${oe(f)} ${(($.controlled?$.play:n)?d.current.forward:d.current.reverse)||""}`};return i?i({style:E}):c.createElement("div",{style:E||{}},r)}function we(t){const{start:r,end:n,complete:e,onComplete:i,delay:a=0,duration:o=A,easeType:s=x}=t,u=c.useMemo(()=>`${B} ${o}s ${s} ${a}s`,[o,s,a]),[m,p]=c.useState({isPlaying:!1,style:{...r,transition:u}}),{isPlaying:y,style:v}=m,l=c.useRef();return c.useEffect(()=>((i||e)&&y&&(l.current=setTimeout(()=>{i&&i(),e&&p(f=>({...f,style:e}))},ae(a+o))),()=>l.current&&clearTimeout(l.current)),[m,e,a,o,y,i]),{isPlaying:y,style:v,play:c.useCallback(f=>{p(d=>({...d,style:{...f?n:r,transition:u},isPlaying:f}))},[n,r,u])}}function _e(t){const{duration:r=A,delay:n=0,easeType:e=x,direction:i=V,fillMode:a=X,iterationCount:o=1,keyframes:s}=t,u=c.useRef({forward:"",reverse:""}),m=c.useRef({forward:null,reverse:null}),{register:p}=c.useContext(z),[y,v]=c.useState(null),[l,f]=c.useState(!1);return c.useEffect(()=>{const h=m.current,N=u.current;u.current.forward=k();let b=j({animationName:u.current.forward,keyframes:s});return m.current.forward=b.styleTag,u.current.reverse=k(),b=j({animationName:u.current.reverse,keyframes:s.reverse()}),m.current.reverse=b.styleTag,p(t),()=>{var g,w;P((g=h.forward)===null||g===void 0?void 0:g.sheet,N.forward),P((w=h.reverse)===null||w===void 0?void 0:w.sheet,N.reverse)}},[]),{style:{animation:`${r}s ${e} ${n}s ${o} ${i} ${a} ${oe(l)} ${y===null?"":y?u.current.forward:u.current.reverse}`},play:v,pause:f,isPlaying:!!y}}function Se(t){return Array.from({length:t},()=>null)}function Oe(t){const{sequences:r=[]}=t,n=Se(r.length).map((p,y)=>t.sequences[y].start),[e,i]=c.useState(n),[a,o]=c.useState(!1),s=c.useRef([]),u=c.useRef([]);c.useEffect(()=>{r.forEach(({keyframes:v},l)=>{if(!Array.isArray(v))return;s.current[l]||(s.current[l]={},u.current[l]={}),s.current[l].forward=k();let f=j({animationName:s.current[l].forward,keyframes:v});u.current[l].forward=f.styleTag,s.current[l].reverse=k(),f=j({animationName:s.current[l].reverse,keyframes:v.reverse()}),u.current[l].reverse=f.styleTag});const p=u.current,y=s.current;return()=>Object.values(y).forEach(({forward:v,reverse:l},f)=>{var d,h;P((d=p[f].forward)===null||d===void 0?void 0:d.sheet,v),P((h=p[f].reverse)===null||h===void 0?void 0:h.sheet,l)})},[]);const m=c.useCallback(p=>{let y=0;const v=p?s.current:[...s.current].reverse(),l=(p?r:[...r].reverse()).map((f,d)=>{const{duration:h=A,delay:N=0,overlay:b,keyframes:g,iterationCount:w=1,easeType:$=x,direction:T=V,fillMode:E=X,end:C={},start:R={}}=f,S=d===0?N:y,F=`${B} ${h}s ${$} ${S}s`;return y=ne({duration:h,delay:N,overlay:b})+y,g?{animation:`${h}s ${$} ${S}s ${w} ${T} ${E} ${re} ${p?v[d].forward:v[d].reverse}`}:{...p?C:R,transition:F}});i(p?l:[...l].reverse()),o(p)},[]);return{styles:e,play:m,isPlaying:a}}O.Animate=he;O.AnimateGroup=ve;O.AnimateKeyframes=$e;O.useAnimate=we;O.useAnimateGroup=Oe;O.useAnimateKeyframes=_e;Object.defineProperty(H,"__esModule",{value:!0});function Te(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var _=Te(te),Ae=O;function se(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Y(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ie(t,r,n){return r&&Y(t.prototype,r),n&&Y(t,n),t}function I(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function L(){return L=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},L.apply(this,arguments)}function J(t,r){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function D(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J(n,!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ue(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&G(t,r)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},W(t)}function G(t,r){return G=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},G(t,r)}function q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t,r){return r&&(typeof r=="object"||typeof r=="function")?r:q(t)}var Q={position:"absolute",height:"100%",transformStyle:"preserve-3d"},Ee="cubic-bezier(0.19, 1, 0.22, 1)",Ce=360,Re=1e3,le=[0,1,2,3,4,5,6,7,8,9],Z=36,ee=function(r,n){var e=le.findIndex(function(a){return a===n})*Z,i=r*Ce;return D({},n===0?{rotateCounter:r>Re?0:r+1}:null,{degree:i-e})},fe=function(t){ue(r,t);function r(){var n,e;se(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=ce(this,(n=W(r)).call.apply(n,[this].concat(a))),I(q(e),"state",{degree:0,rotateCounter:0}),I(q(e),"updateNumber",function(){e.setState(function(s){var u=s.rotateCounter;return ee(u,e.props.activeNumber)})}),e}return ie(r,[{key:"componentDidMount",value:function(){var e=this;this.updateNumberTimeout=setTimeout(function(){return e.updateNumber()},50*this.props.position)}},{key:"shouldComponentUpdate",value:function(e){return e.className!==this.props.className||e.activeNumber!==this.props.activeNumber||e.height!==this.props.height||e.width!==this.props.width||this.state.degree===0||e.play!==this.props.play}},{key:"componentWillUnmount",value:function(){clearTimeout(this.updateNumberTimeout)}},{key:"render",value:function(){var e=this.props,i=e.activeNumber,a=e.height,o=e.color,s=e.background,u=e.width,m=e.perspective,p=e.duration,y=e.play,v=e.delay,l=e.length,f=e.position,d=e.numberStyle,h=d===void 0?{}:d,N=e.className,b=this.state.degree,g={width:"".concat(u,"px"),height:"".concat(a+3,"px")},w=a/2,$=w+a;return _.createElement("span",{style:D({},g,{perspective:m,overflow:"hidden",display:"inline-block",textAlign:"left",height:a}),className:N,"aria-hidden":!0},_.createElement(Ae.Animate,L({tag:"span",play:y,start:D({},Q),end:D({},Q,{transform:"rotateX(".concat(b,"deg)")})},{easeType:Ee,duration:p,delay:v},{render:function(E){var C=E.style;return _.createElement("span",{style:C},le.map(function(R,S){return _.createElement("span",{style:D({},g,{height:a,lineHeight:"".concat(a,"px"),fontSize:"".concat(a-1,"px"),position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",WebkitFontSmoothing:"antialiased",color:o,background:s,backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateX(".concat(Z*S,"deg) translateZ(").concat($,"px)")},h),key:"".concat(Z*S)},R)}))}})),_.createElement("span",{data:l-f,style:D({},g,{height:a,lineHeight:"".concat(a,"px"),fontSize:"".concat(a-1,"px"),left:"".concat(l-f>4?.25:0,"px"),position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",WebkitFontSmoothing:"antialiased",color:o,background:s,transform:"rotateX(0deg) translateZ(".concat($,"px)"),visibility:"hidden"},h)},i))}}],[{key:"getDerivedStateFromProps",value:function(e,i){var a=e.activeNumber,o=i.rotateCounter;return ee(o,a)}}]),r}(_.Component),de=function(t){ue(r,t);function r(){return se(this,r),ce(this,W(r).apply(this,arguments))}return ie(r,[{key:"shouldComponentUpdate",value:function(e){return e.nonNumberClassName!==this.props.nonNumberClassName||e.numberClassName!==this.props.numberClassName||e.numbers!==this.props.numbers||e.height!==this.props.height||e.width!==this.props.width||e.duration!==this.props.duration||e.delay!==this.props.delay||e.play!==this.props.play}},{key:"render",value:function(){var e=this.props,i=e.numbers,a=e.nonNumberStyle,o=e.numberStyle,s=e.numberClassName,u=e.nonNumberClassName,m=e.height,p=e.width,y=e.color,v=e.background,l=e.perspective,f=e.duration,d=e.animate,h=e.play,N=e.delay,b=0;return _.createElement("section",{style:{display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":i},Array.from(i).map(function(g,w){var $,T=_.createElement("span",{"aria-hidden":!0,style:a,className:u,key:b},g);return d?(b+=1,Number.isNaN(parseInt(g,10))?T:_.createElement(fe,L({key:w,height:m,width:p,color:y,background:v,perspective:l,duration:f,play:h,delay:N,numberStyle:o},{position:b,length:i.length,activeNumber:parseInt(g,10),className:s}))):Number.isNaN(parseInt(g,10))?T:_.createElement("span",($={"aria-hidden":!0,style:{padding:0}},I($,"style",a),I($,"key",b),$),g)}))}}]),r}(_.Component);I(de,"defaultProps",{perspective:500,duration:.3,animate:!0,play:!1,delay:0,nonNumberStyle:{},numberStyle:{}});H.FlipNumber=fe;var je=H.default=de;export{je as _};
